<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Snap CameraKit Production Test</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body>

<h1>Snap Production Camera Test</h1>
<video id="video" autoplay muted playsinline style="width: 100%; max-width: 400px;"></video>

<!-- Snap SDK -->
<script src="https://sdk.snapkit.com/js/v1/snapkit.js" onload="initCameraKit()"></script>

<script>
async function initCameraKit() {
  try {
    if (typeof Snap === "undefined") {
      console.error("Snap SDK failed to load");
      return;
    }

    const CLIENT_ID = "60983cda-12ef-44bc-ba72-a16d0e7839bd"; // PRODUCTION

    console.log("Origin:", location.origin);
    console.log("Using PRODUCTION Client ID");

    const cameraKit = await Snap.CameraKit.create({ apiToken: CLIENT_ID });
    console.log("CameraKit object created:", cameraKit);

    // Start webcam
    const stream = await navigator.mediaDevices.getUserMedia({ video: true });
    const video = document.getElementById("video");
    video.srcObject = stream;
    console.log("Webcam stream started ✔");

    await cameraKit.setSource(video);

    const session = await cameraKit.createSession();
    await session.start();
    console.log("CameraKit session started ✔");

  } catch (err) {
    console.error("ERROR:", err);
    alert("Check console for errors");
  }
}
</script>

</body>
</html>


